/* Tailwind CSS Custom Enhancements */

/* Responsive DataTables Enhancements */
@media (max-width: 640px) {
    .dataTables_wrapper {
        padding: 0.75rem !important;
    }
    
    .dataTables_wrapper .dataTables_filter,
    .dataTables_wrapper .dataTables_length {
        margin-bottom: 0.75rem !important;
        width: 100%;
    }
    
    .dataTables_wrapper .dataTables_filter input,
    .dataTables_wrapper .dataTables_length select {
        width: 100% !important;
        margin-left: 0 !important;
        margin-top: 0.5rem;
    }
    
    .dataTables_wrapper .dataTables_info {
        text-align: center;
        margin-bottom: 0.75rem;
    }
    
    .dataTables_wrapper .dataTables_paginate {
        text-align: center;
    }
    
    .dataTables_wrapper .dataTables_paginate .paginate_button {
        padding: 0.375rem 0.5rem !important;
        font-size: 0.75rem !important;
    }
}

/* DataTables Modern Styling */
.dataTables_wrapper {
    @apply bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden;
    padding: 1.5rem !important;
}

/* Top Controls Bar */
.dataTables_wrapper .dataTables_length,
.dataTables_wrapper .dataTables_filter {
    @apply mb-4;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.dataTables_wrapper .dataTables_length label,
.dataTables_wrapper .dataTables_filter label {
    @apply text-sm font-medium text-gray-700;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin: 0;
}

.dataTables_wrapper .dataTables_filter {
    float: right;
}

.dataTables_wrapper .dataTables_filter input {
    @apply border-2 border-gray-300 rounded-xl px-4 py-2.5 text-sm bg-white text-gray-900 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition shadow-sm;
    min-width: 250px;
    transition: all 0.2s;
}

.dataTables_wrapper .dataTables_filter input:focus {
    @apply shadow-md;
    transform: translateY(-1px);
}

.dataTables_wrapper .dataTables_length select {
    @apply border-2 border-gray-300 rounded-xl px-4 py-2.5 text-sm bg-white text-gray-900 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition shadow-sm;
    margin: 0 0.5rem;
}

/* Table Styling */
.dataTables_wrapper table.dataTable {
    @apply w-full border-collapse;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
}

.dataTables_wrapper table.dataTable thead th {
    @apply px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-200;
    position: relative;
}

.dataTables_wrapper table.dataTable thead th.sorting:before,
.dataTables_wrapper table.dataTable thead th.sorting:after,
.dataTables_wrapper table.dataTable thead th.sorting_asc:before,
.dataTables_wrapper table.dataTable thead th.sorting_asc:after,
.dataTables_wrapper table.dataTable thead th.sorting_desc:before,
.dataTables_wrapper table.dataTable thead th.sorting_desc:after {
    @apply text-primary-600;
    opacity: 0.6;
    font-size: 0.75rem;
}

.dataTables_wrapper table.dataTable thead th.sorting:hover:before,
.dataTables_wrapper table.dataTable thead th.sorting:hover:after,
.dataTables_wrapper table.dataTable thead th.sorting_asc:before,
.dataTables_wrapper table.dataTable thead th.sorting_desc:after {
    opacity: 1;
}

.dataTables_wrapper table.dataTable tbody tr {
    @apply border-b border-gray-100 transition-colors;
}

.dataTables_wrapper table.dataTable tbody tr:hover {
    @apply bg-gradient-to-r from-primary-50/50 to-transparent;
    transform: scale(1.001);
}

.dataTables_wrapper table.dataTable tbody td {
    @apply px-6 py-4 text-sm;
}

.dataTables_wrapper table.dataTable tbody td:first-child {
    @apply font-semibold text-gray-900;
}

/* Action Buttons */
.dataTables_wrapper table.dataTable tbody .btn-action,
.dataTables_wrapper table.dataTable tbody button,
.dataTables_wrapper table.dataTable tbody a[class*="btn"],
.dataTables_wrapper table.dataTable tbody .inline-flex {
    @apply inline-flex items-center justify-center px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 shadow-sm hover:shadow-md transform hover:-translate-y-0.5;
}

.dataTables_wrapper table.dataTable tbody .btn-edit,
.dataTables_wrapper table.dataTable tbody button[onclick*="edit"],
.dataTables_wrapper table.dataTable tbody button[onclick*="load"] {
    @apply bg-primary-600 text-white hover:bg-primary-700;
}

.dataTables_wrapper table.dataTable tbody .btn-delete,
.dataTables_wrapper table.dataTable tbody button[type="submit"][class*="red"],
.dataTables_wrapper table.dataTable tbody form button[class*="red"] {
    @apply bg-red-600 text-white hover:bg-red-700;
}

.dataTables_wrapper table.dataTable tbody .btn-view,
.dataTables_wrapper table.dataTable tbody a[href*="view"] {
    @apply bg-blue-600 text-white hover:bg-blue-700;
}

/* Info and Pagination Bar */
.dataTables_wrapper .dataTables_info {
    @apply text-sm text-gray-600 font-medium;
    padding-top: 1rem;
}

.dataTables_wrapper .dataTables_paginate {
    @apply mt-4 pt-4 border-t border-gray-200;
    float: right;
    text-align: right;
}

.dataTables_wrapper .dataTables_paginate .paginate_button {
    @apply px-4 py-2 mx-1 rounded-lg border-2 border-gray-300 text-sm font-medium text-gray-700 bg-white transition-all duration-200 shadow-sm;
    min-width: 40px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.dataTables_wrapper .dataTables_paginate .paginate_button:hover {
    @apply bg-primary-50 border-primary-400 text-primary-700 shadow-md transform -translate-y-0.5;
    background-color: #fef3c7 !important;
    border-color: #f59e0b !important;
    color: #d97706 !important;
}

.dataTables_wrapper .dataTables_paginate .paginate_button.current {
    @apply bg-primary-600 text-white border-primary-600 shadow-lg;
    background: linear-gradient(135deg, #d97706 0%, #f59e0b 100%) !important;
    border-color: #d97706 !important;
}

.dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
    @apply bg-primary-700 border-primary-700;
    background: linear-gradient(135deg, #b45309 0%, #d97706 100%) !important;
    transform: translateY(-2px) scale(1.05);
}

.dataTables_wrapper .dataTables_paginate .paginate_button.disabled {
    @apply opacity-40 cursor-not-allowed hover:bg-white hover:border-gray-300 hover:text-gray-700;
    transform: none !important;
}

.dataTables_wrapper .dataTables_paginate .paginate_button.disabled:hover {
    transform: none !important;
    box-shadow: none !important;
}

/* Badges and Status Indicators in Tables */
.dataTables_wrapper table.dataTable tbody .badge,
.dataTables_wrapper table.dataTable tbody span[class*="bg-"] {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold;
}

/* Empty State */
.dataTables_wrapper .dataTables_empty {
    @apply text-center py-12 text-gray-500;
}

.dataTables_wrapper .dataTables_empty:before {
    content: "ðŸ“‹";
    display: block;
    font-size: 3rem;
    margin-bottom: 1rem;
    opacity: 0.5;
}

/* Loading State */
.dataTables_wrapper .dataTables_processing {
    @apply bg-primary-600 text-white rounded-xl px-6 py-4 shadow-lg;
    border: none !important;
    font-weight: 600;
    backdrop-filter: blur(10px);
}

/* Modern Button Styles - Solid Colors */
.btn-primary,
button.btn-primary,
button[class*="bg-primary"]:not([class*="gradient"]),
a.btn-primary,
a[class*="bg-primary"]:not([class*="gradient"]) {
    background-color: #d97706 !important;
    color: #ffffff !important;
    padding: 0.625rem 1rem !important;
    border-radius: 0.75rem !important;
    font-weight: 600 !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
    transition: all 0.2s ease-in-out !important;
    transform: translateY(0) !important;
    border: none !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
}

.btn-primary:hover,
button.btn-primary:hover,
button[class*="bg-primary"]:not([class*="gradient"]):hover,
a.btn-primary:hover,
a[class*="bg-primary"]:not([class*="gradient"]):hover {
    background-color: #b45309 !important;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
    transform: translateY(-2px) !important;
}

.btn-secondary,
button.btn-secondary {
    background-color: #4b5563 !important;
    color: #ffffff !important;
    padding: 0.625rem 1rem !important;
    border-radius: 0.75rem !important;
    font-weight: 600 !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
    transition: all 0.2s ease-in-out !important;
    transform: translateY(0) !important;
    border: none !important;
}

.btn-secondary:hover {
    background-color: #374151 !important;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
    transform: translateY(-2px) !important;
}

.btn-success,
button.btn-success {
    background-color: #16a34a !important;
    color: #ffffff !important;
    padding: 0.625rem 1rem !important;
    border-radius: 0.75rem !important;
    font-weight: 600 !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
    transition: all 0.2s ease-in-out !important;
    transform: translateY(0) !important;
    border: none !important;
}

.btn-success:hover {
    background-color: #15803d !important;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
    transform: translateY(-2px) !important;
}

.btn-danger,
.btn-delete,
button.btn-delete,
button[class*="bg-red"]:not([class*="gradient"]),
form button[class*="red"]:not([class*="gradient"]) {
    background-color: #dc2626 !important;
    color: #ffffff !important;
    padding: 0.625rem 1rem !important;
    border-radius: 0.75rem !important;
    font-weight: 600 !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
    transition: all 0.2s ease-in-out !important;
    transform: translateY(0) !important;
    border: none !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
}

.btn-danger:hover,
.btn-delete:hover,
button.btn-delete:hover,
button[class*="bg-red"]:not([class*="gradient"]):hover,
form button[class*="red"]:not([class*="gradient"]):hover {
    background-color: #b91c1c !important;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
    transform: translateY(-2px) !important;
}

.btn-warning,
button.btn-warning {
    background-color: #d97706 !important;
    color: #ffffff !important;
    padding: 0.625rem 1rem !important;
    border-radius: 0.75rem !important;
    font-weight: 600 !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
    transition: all 0.2s ease-in-out !important;
    transform: translateY(0) !important;
    border: none !important;
}

.btn-warning:hover {
    background-color: #b45309 !important;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
    transform: translateY(-2px) !important;
}

.btn-info,
.btn-view,
button.btn-view,
a.btn-view,
a[href*="view"]:not([class*="gradient"]) {
    background-color: #2563eb !important;
    color: #ffffff !important;
    padding: 0.625rem 1rem !important;
    border-radius: 0.75rem !important;
    font-weight: 600 !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
    transition: all 0.2s ease-in-out !important;
    transform: translateY(0) !important;
    border: none !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-decoration: none !important;
}

.btn-info:hover,
.btn-view:hover,
button.btn-view:hover,
a.btn-view:hover,
a[href*="view"]:not([class*="gradient"]):hover {
    background-color: #1d4ed8 !important;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
    transform: translateY(-2px) !important;
}

.btn-outline-primary,
button.btn-outline-primary {
    background-color: #ffffff !important;
    color: #d97706 !important;
    border: 2px solid #d97706 !important;
    padding: 0.625rem 1rem !important;
    border-radius: 0.75rem !important;
    font-weight: 600 !important;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
    transition: all 0.2s ease-in-out !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
}

.btn-outline-primary:hover,
button.btn-outline-primary:hover {
    background-color: #fef3c7 !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
}

/* Remove gradient buttons - convert to solid */
button[class*="gradient"],
a[class*="gradient"] {
    background: #d97706 !important;
    background-image: none !important;
}

button[class*="gradient"]:hover,
a[class*="gradient"]:hover {
    background: #b45309 !important;
    background-image: none !important;
}

/* Modern Modal Styling */
.modal,
[class*="modal"],
[id*="Modal"] {
    @apply fixed inset-0 z-50 overflow-y-auto;
}

.modal-backdrop,
.modal-overlay {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity;
}

.modal-dialog {
    @apply relative min-h-screen flex items-center justify-center p-4;
}

.modal-content {
    @apply relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto transform transition-all;
    border: none;
}

.modal-header {
    @apply px-6 py-5 bg-gradient-to-r from-primary-50 to-amber-50 border-b-2 border-gray-200 rounded-t-2xl flex items-center justify-between;
}

.modal-title {
    @apply text-xl font-bold text-gray-900 flex items-center;
}

.modal-body {
    @apply px-6 py-6;
}

.modal-footer {
    @apply px-6 py-4 bg-gray-50 border-t-2 border-gray-200 rounded-b-2xl flex items-center justify-end gap-3;
}

.modal-close,
button[onclick*="close"],
button[onclick*="Close"] {
    @apply text-gray-400 hover:text-gray-600 transition p-2 rounded-lg hover:bg-gray-100;
}

/* Responsive Enhancements */
@media (max-width: 768px) {
    .dataTables_wrapper {
        padding: 1rem !important;
    }
    
    .dataTables_wrapper .dataTables_filter {
        float: none;
        width: 100%;
        margin-bottom: 1rem;
    }
    
    .dataTables_wrapper .dataTables_filter input {
        width: 100% !important;
        margin-left: 0 !important;
    }
    
    .dataTables_wrapper .dataTables_length {
        width: 100%;
    }
    
    .dataTables_wrapper .dataTables_length select {
        width: 100% !important;
        margin: 0.5rem 0 0 0 !important;
    }
    
    .dataTables_wrapper .dataTables_info,
    .dataTables_wrapper .dataTables_paginate {
        width: 100%;
        text-align: center;
        float: none;
        margin-top: 1rem;
    }
    
    .dataTables_wrapper table.dataTable thead th,
    .dataTables_wrapper table.dataTable tbody td {
        @apply px-3 py-3 text-xs;
    }
}

/* Select2 Tailwind Styling */
.select2-container--default .select2-selection--single {
    @apply border-2 border-gray-300 rounded-lg bg-white;
    height: 48px !important;
    min-height: 48px !important;
}

.select2-container--default .select2-selection--single:focus {
    @apply outline-none ring-2 ring-primary-500 border-primary-500;
}

.select2-container--default .select2-selection--single .select2-selection__rendered {
    @apply pl-4 text-gray-700;
    line-height: 44px !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
}

.select2-container--default .select2-selection--single .select2-selection__arrow {
    height: 46px !important;
    top: 1px;
    right: 8px;
}

.select2-dropdown {
    @apply border border-gray-300 rounded-lg shadow-lg mt-1 bg-white;
}

.select2-search--dropdown .select2-search__field {
    @apply border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none;
}

.select2-results__option {
    @apply px-4 py-2;
}

.select2-results__option--highlighted {
    @apply bg-primary-100 text-primary-700;
}

.select2-results__option[aria-selected="true"] {
    @apply bg-primary-600 text-white;
}

/* Enhanced Leaflet Map Controls */
.leaflet-control-zoom a {
    @apply rounded-lg shadow-sm;
}

.leaflet-popup-content-wrapper {
    @apply rounded-lg shadow-lg;
}

/* SweetAlert2 Tailwind Compatibility */
.swal2-popup {
    @apply rounded-lg;
}

.swal2-confirm {
    @apply bg-primary-600 hover:bg-primary-700;
}

.swal2-cancel {
    @apply bg-gray-300 hover:bg-gray-400 text-gray-800;
}

/* Loading States */
.loading {
    @apply opacity-60 pointer-events-none;
}

/* Smooth Transitions */
a, button, .btn, .card, .nav-link {
    @apply transition-all duration-200;
}

/* Enhanced Focus States for Accessibility */
*:focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2 rounded;
}

/* Modal Styles */
.modal {
    @apply fixed inset-0 z-50 hidden items-center justify-center bg-black bg-opacity-50;
}

.modal.show {
    @apply flex;
}

/* Print Optimizations */
@media print {
    .no-print {
        @apply hidden;
    }
    
    .card {
        break-inside: avoid;
    }
}